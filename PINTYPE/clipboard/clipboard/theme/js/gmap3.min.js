!function(e){function t(){var e=[];this.empty=function(){for(var t=0;t<e.length;t++)if(e[t])return!1;return!0},this.add=function(t){e.push(t)},this.addNext=function(t){var n,i=[],r=0;for(n=0;n<e.length;n++)e[n]&&(1==r&&i.push(t),i.push(e[n]),r++);2>r&&i.push(t),e=i},this.get=function(){for(var t=0;t<e.length;t++)if(e[t])return e[t];return!1},this.ack=function(){for(var t=0;t<e.length;t++)if(e[t]){delete e[t];break}this.empty()&&(e=[])}}function n(){var t={};this.add=function(e,n,i){return e=e.toLowerCase(),t[e]||(t[e]=[]),t[e].push({obj:n,tag:l(i,"tag")}),e+"-"+(t[e].length-1)},this.get=function(n,i,r){var a,o,s;if(n=n.toLowerCase(),!t[n]||!t[n].length)return null;for(o=i?t[n].length:-1,s=i?-1:1,a=0;a<t[n].length;a++)if(o+=s,t[n][o]){if(void 0!==r&&(void 0===t[n][o].tag||e.inArray(t[n][o].tag,r)<0))continue;return t[n][o].obj}return null},this.all=function(n,i){var r,a=[];if(n=n.toLowerCase(),!t[n]||!t[n].length)return a;for(r=0;r<t[n].length;r++)t[n][r]&&(void 0!==i&&(void 0===t[n][r].tag||e.inArray(t[n][r].tag,i)<0)||a.push(t[n][r].obj));return a},this.names=function(){var e,n=[];for(e in t)n.push(e);return n},this.refToObj=function(e){return e=e.split("-"),2==e.length&&t[e[0]]&&t[e[0]][e[1]]?t[e[0]][e[1]].obj:null},this.rm=function(n,i,r){var a,o,s;if(n=n.toLowerCase(),!t[n])return!1;if(void 0!==i)if(r)for(a=t[n].length-1;a>=0&&!(void 0!==t[n][a]&&void 0!==t[n][a].tag&&e.inArray(t[n][a].tag,i)>=0);a--);else for(a=0;a<t[n].length&&!(void 0!==t[n][a]&&void 0!==t[n][a].tag&&e.inArray(t[n][a].tag,i)>=0);a++);else a=r?t[n].length-1:0;if(!(a in t[n]))return!1;if("function"==typeof t[n][a].obj.setMap&&t[n][a].obj.setMap(null),"function"==typeof t[n][a].obj.remove&&t[n][a].obj.remove(),"function"==typeof t[n][a].obj.free&&t[n][a].obj.free(),delete t[n][a].obj,void 0!==i){for(s=[],o=0;o<t[n].length;o++)o!==a&&s.push(t[n][o]);t[n]=s}else r?t[n].pop():t[n].shift();return!0},this.clear=function(e,n,i,r){var a,o,s;if(e&&e.length)e=b(e);else{e=[];for(a in t)e.push(a)}for(o=0;o<e.length;o++)if(e[o]){if(s=e[o].toLowerCase(),!t[s])continue;if(n)this.rm(s,r,!0);else if(i)this.rm(s,r,!1);else for(;this.rm(s,r,!1););}}}function i(){var t,n=[],i=[],r=[],a=[],o=!1;this.events=function(){for(var e=0;e<arguments.length;e++)i.push(arguments[e])},this.startRedraw=function(){return o?!1:(o=!0,!0)},this.endRedraw=function(){o=!1},this.redraw=function(){var e,n=[],i=this;for(e=0;e<arguments.length;e++)n.push(arguments[e]);this.startRedraw?(t.apply(i,n),this.endRedraw()):setTimeout(function(){i.redraw.apply(i,n)},50)},this.setRedraw=function(e){t=e},this.store=function(e,t,n){r.push({data:e,obj:t,shadow:n})},this.free=function(){for(var e=0;e<i.length;e++)google.maps.event.removeListener(i[e]);i=[],this.freeAll()},this.freeIndex=function(e){"function"==typeof r[e].obj.setMap&&r[e].obj.setMap(null),"function"==typeof r[e].obj.remove&&r[e].obj.remove(),r[e].shadow&&("function"==typeof r[e].shadow.remove&&r[e].obj.remove(),"function"==typeof r[e].shadow.setMap&&r[e].shadow.setMap(null),delete r[e].shadow),delete r[e].obj,delete r[e].data,delete r[e]},this.freeAll=function(){var e;for(e=0;e<r.length;e++)r[e]&&this.freeIndex(e);r=[]},this.freeDiff=function(t){var n,i,a={},o=[];for(n=0;n<t.length;n++)o.push(t[n].idx.join("-"));for(n=0;n<r.length;n++)r[n]&&(i=e.inArray(r[n].data.idx.join("-"),o),i>=0?a[i]=!0:this.freeIndex(n));return a},this.add=function(e,t){n.push({latLng:e,marker:t})},this.get=function(e){return n[e]},this.clusters=function(e,t,i,r){var o,s,l,c,u,d,h,p,f,m,g,v,y,b,w=e.getProjection(),x=w.fromLatLngToPoint(new google.maps.LatLng(e.getBounds().getNorthEast().lat(),e.getBounds().getSouthWest().lng())),_=e.getZoom(),k={},C={},$={},S=[],T=e.getBounds(),E=i&&i<=e.getZoom(),A=e.getZoom()>2;for(b=0,y={},o=0;o<n.length;o++)(!A||T.contains(n[o].latLng))&&(c=w.fromLatLngToPoint(n[o].latLng),k[o]=[Math.floor((c.x-x.x)*Math.pow(2,_)),Math.floor((c.y-x.y)*Math.pow(2,_))],y[o]=!0,b++);if(!r&&!E){for(h=0;h<a.length&&h in y;h++)b--;if(!b)return!1}a=y,y=[];for(o in k)u=k[o][0],d=k[o][1],u in C||(C[u]={}),d in C[u]||(C[u][d]=o,$[o]={},y.push(o)),$[C[u][d]][o]=!0;for(t=Math.pow(t,2),delete C,h=0;;){for(;h<y.length&&!(y[h]in $);)h++;if(h==y.length)break;if(o=y[h],g=k[o][0],v=k[o][1],C=null,E)C={lat:g,lng:v,idx:[o]};else do{for(f={lat:0,lng:0,idx:[]},p=h;p<y.length;p++)if(y[p]in $&&(s=y[p],Math.pow(g-k[s][0],2)+Math.pow(v-k[s][1],2)<=t))for(l in $[s])f.lat+=n[l].latLng.lat(),f.lng+=n[l].latLng.lng(),f.idx.push(l);f.lat/=f.idx.length,f.lng/=f.idx.length,C?(m=f.idx.length>C.idx.length,m&&(C=f)):(m=f.idx.length>1,C=f),m&&(c=w.fromLatLngToPoint(new google.maps.LatLng(C.lat,C.lng)),g=Math.floor((c.x-x.x)*Math.pow(2,_)),v=Math.floor((c.y-x.y)*Math.pow(2,_)))}while(m);for(p=0;p<C.idx.length;p++)C.idx[p]in $&&delete $[C.idx[p]];S.push(C)}return S},this.getBounds=function(){var e,t=new google.maps.LatLngBounds;for(e=0;e<n.length;e++)t.extend(n[e].latLng);return t}}function r(t){for(var n in t)C[n]="object"==typeof C[n]?e.extend({},C[n],t[n]):t[n]}function a(e){if(!e)return!0;for(var t=0;t<S.length;t++)if(S[t]===e)return!1;return!0}function o(e){for(var t=l(e,"action"),n=0;n<T.length;n++)if(T[n]===t)return!0;return!1}function s(e,t){if(t.toLowerCase){t=t.toLowerCase();for(var n in e)if(n.toLowerCase&&n.toLowerCase()==t)return n}return!1}function l(e,t,n){var i=s(e,t);return i?e[i]:n}function c(e,t){var n,i;if(!e||!t)return!1;t=b(t);for(n in e)if(n.toLowerCase){n=n.toLowerCase();for(i in t)if(n==t[i])return!0}return!1}function u(e,t,n){if(c(e,$)||c(e,t)){var i,r;for(i=0;i<$.length;i++)r=s(e,$[i]),n[$[i]]=r?e[r]:{};if(t&&t.length)for(i=0;i<t.length;i++)(r=s(e,t[i]))&&(n[t[i]]=e[r]);return n}n.options={};for(r in e)"action"!==r&&(n.options[r]=e[r]);return n}function d(e,t,n,i){var r,a=s(t,e),o={},d=["map"];if(o.callback=l(t,"callback"),n=b(n),i=b(i),a)return u(t[a],n,o);if(i&&i.length)for(r=0;r<i.length;r++)d.push(i[r]);for(c(t,d)||(o=u(t,n,o)),r=0;r<$.length;r++)$[r]in o||(o[$[r]]={});return o}function h(){return E||(E=new google.maps.Geocoder),E}function p(){return directionsService||(directionsService=new google.maps.DirectionsService),directionsService}function f(){return elevationService||(elevationService=new google.maps.ElevationService),elevationService}function m(){return maxZoomService||(maxZoomService=new google.maps.MaxZoomService),maxZoomService}function g(){return distanceMatrixService||(distanceMatrixService=new google.maps.DistanceMatrixService),distanceMatrixService}function v(e){return("number"==typeof e||"string"==typeof e)&&""!==e&&!isNaN(e)}function b(e){var t,n=[];if(void 0!==e)if("object"==typeof e)if("number"==typeof e.length)n=e;else for(t in e)n.push(e[t]);else n.push(e);return n}function w(e,t,n){var i=t?e:null;return e&&"string"!=typeof e?e.latLng?w(e.latLng):"function"==typeof e.lat?e:v(e.lat)?new google.maps.LatLng(e.lat,e.lng):!n&&e.length?v(e[0])&&v(e[1])?new google.maps.LatLng(e[0],e[1]):i:i:i}function x(e,t,n){var i,r,a;return e?(a=n?e:null,"function"==typeof e.getCenter?e:(e.length?2==e.length?(i=w(e[0]),r=w(e[1])):4==e.length&&(i=w([e[0],e[1]]),r=w([e[2],e[3]])):"ne"in e&&"sw"in e?(i=w(e.ne),r=w(e.sw)):"n"in e&&"e"in e&&"s"in e&&"w"in e&&(i=w([e.n,e.e]),r=w([e.s,e.w])),i&&r?new google.maps.LatLngBounds(r,i):a)):null}function _(o){var s=new t,u=new n,v=null,_={},$=!1;this._plan=function(e){for(var t=0;t<e.length;t++)s.add(e[t]);this._run()},this._planNext=function(e){s.addNext(e)},this._direct=function(t){var n=l(t,"action");return this[n](e.extend({},n in C?C[n]:{},t.args?t.args:t))},this._end=function(){$=!1,s.ack(),this._run()},this._run=function(){if(!$){var e=s.get();e&&($=!0,this._proceed(e))}},this._proceed=function(t){t=t||{};var n,i=l(t,"action")||"init",r=i.toLowerCase(),o=!0,s=l(t,"target"),c=l(t,"args");!v&&a(r)&&this.init(e.extend({},C.init,t.args&&t.args.map?t.args.map:t.map?t.map:{}),!0),!s&&!c&&r in this&&"function"==typeof this[r]?this[r](e.extend({},r in C?C[r]:{},t.args?t.args:t)):(s&&"object"==typeof s?(o="function"==typeof s[i])&&(n=s[i].apply(s,t.args?t.args:[])):v&&(o="function"==typeof v[i])&&(n=v[i].apply(v,t.args?t.args:[])),!o&&C.verbose&&alert("unknown action : "+i),this._callback(n,t),this._end())},this._resolveLatLng=function(e,t,n,i){var r,a=l(e,"address"),o=this,s="function"==typeof t?t:o[t];a?(i||(i=0),r="object"==typeof a?a:{address:a},h().geocode(r,function(r,a){a===google.maps.GeocoderStatus.OK?s.apply(o,[e,n?r:r[0].geometry.location]):a===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&i<C.queryLimit.attempt?setTimeout(function(){o._resolveLatLng(e,t,n,i+1)},C.queryLimit.delay+Math.floor(Math.random()*C.queryLimit.random)):(C.verbose&&alert("Geocode error : "+a),s.apply(o,[e,!1]))})):s.apply(o,[e,w(e,!1,!0)])},this._resolveAllLatLng=function(e,t,n){var i=this,r=-1,a=function(){do r++;while(r<e[t].length&&!("address"in e[t][r]));r<e[t].length?function(e){i._resolveLatLng(e,function(e,t){e.latLng=t,a.apply(i,[])})}(e[t][r]):i[n](e)};a()},this._call=function(){var e,t=arguments[0],n=[];if(arguments.length&&v&&"function"==typeof v[t]){for(e=1;e<arguments.length;e++)n.push(arguments[e]);return v[t].apply(v,n)}},this._subcall=function(t,n){var i={};t.map&&(n||(n=l(t.map,"latlng")),v?(t.map.center&&n&&this._call("setCenter",n),void 0!==t.map.zoom&&this._call("setZoom",t.map.zoom),void 0!==t.map.mapTypeId&&this._call("setMapTypeId",t.map.mapTypeId)):(n&&(i={center:n}),this.init(e.extend({},t.map,i),!0)))},this._attachEvent=function(e,t,n,i,r){google.maps.event["addListener"+(r?"Once":"")](e,t,function(t){n.apply(o,[e,t,i])})},this._attachEvents=function(e,t){var n;if(t){if(t.events)for(n in t.events)"function"==typeof t.events[n]&&this._attachEvent(e,n,t.events[n],t.data,!1);if(t.onces)for(n in t.onces)"function"==typeof t.onces[n]&&this._attachEvent(e,n,t.onces[n],t.data,!0)}},this._callback=function(e,t){if("function"==typeof t.callback)t.callback.apply(o,[e]);else if("object"==typeof t.callback)for(var n=0;n<t.callback.length;n++)"function"==typeof t.callback[n]&&t.callback[k].apply(o,[e])},this._manageEnd=function(e,t,n){var i,r;if(e&&"object"==typeof e&&(this._attachEvents(e,t),t.apply&&t.apply.length))for(i=0;i<t.apply.length;i++)r=t.apply[i],r.action&&"function"==typeof e[r.action]&&(r.args?e[r.action].apply(e,r.args):e[r.action]());n||(this._callback(e,t),this._end())},this.destroy=function(e){var t;u.clear(),o.empty();for(t in _)delete _[t];_={},v&&delete v,this._callback(null,e),this._end()},this.init=function(t,n){var i,r,a;if(v)return this._end();if(i=d("map",t),"boolean"==typeof i.options.center&&i.options.center)return!1;a=e.extend({},C.init,i.options),a.center||(a.center=[C.init.center.lat,C.init.center.lng]),a.center=w(a.center),v=new C.classes.Map(o.get(0),a);for(r in _)v.mapTypes.set(r,_[r]);return this._manageEnd(v,i,n),!0},this.getlatlng=function(e){this._resolveLatLng(e,"_getLatLng",!0)},this._getLatLng=function(e,t){this._manageEnd(t,e)},this.getaddress=function(e,t){var n=w(e,!1,!0),i=l(e,"address"),r=n?{latLng:n}:i?"string"==typeof i?{address:i}:i:null,a=l(e,"callback"),s=this;t||(t=0),r&&"function"==typeof a?h().geocode(r,function(n,i){if(i===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&t<C.queryLimit.attempt)setTimeout(function(){s.getaddress(e,t+1)},C.queryLimit.delay+Math.floor(Math.random()*C.queryLimit.random));else{var r=i===google.maps.GeocoderStatus.OK?n:!1;a.apply(o,[r,i]),!r&&C.verbose&&alert("Geocode error : "+i),s._end()}}):this._end()},this.getroute=function(e){var t=l(e,"callback"),n=this;"function"==typeof t&&e.options?(e.options.origin=w(e.options.origin,!0),e.options.destination=w(e.options.destination,!0),p().route(e.options,function(e,i){var r=i==google.maps.DirectionsStatus.OK?e:!1;t.apply(o,[r,i]),n._end()})):this._end()},this.getelevation=function(e){var t,n,i,r,a=[],s=l(e,"callback"),c=l(e,"latlng"),u=this;if("function"==typeof s){if(t=function(e,t){var n=t===google.maps.ElevationStatus.OK?e:!1;s.apply(o,[n,t]),u._end()},c)a.push(w(c));else if(a=l(e,"locations")||[])for(a=b(a),r=0;r<a.length;r++)a[r]=w(a[r]);if(a.length)f().getElevationForLocations({locations:a},t);else if(n=l(e,"path"),i=l(e,"samples"),n&&i){for(r=0;r<n.length;r++)a.push(w(n[r]));a.length&&f().getElevationAlongPath({path:a,samples:i},t)}}else this._end()},this.getdistance=function(e){var t,n=l(e,"callback"),i=this;if("function"==typeof n&&e.options&&e.options.origins&&e.options.destinations){for(e.options.origins=b(e.options.origins),t=0;t<e.options.origins.length;t++)e.options.origins[t]=w(e.options.origins[t],!0);for(e.options.destinations=b(e.options.destinations),t=0;t<e.options.destinations.length;t++)e.options.destinations[t]=w(e.options.destinations[t],!0);g().getDistanceMatrix(e.options,function(e,t){var r=t==google.maps.DistanceMatrixStatus.OK?e:!1;n.apply(o,[r,t]),i._end()})}else this._end()},this.addmarker=function(e){this._resolveLatLng(e,"_addMarker")},this._addMarker=function(e,t,n){var i,r,a,o=d("marker",e,"to");if(n){if(!t)return}else{if(!t)return this._manageEnd(!1,o),void 0;this._subcall(e,t)}return o.to?(a=u.refToObj(o.to),i=a&&"function"==typeof a.add,i&&(a.add(t,e),"function"==typeof a.redraw&&a.redraw()),n||this._manageEnd(i,o)):(o.options.position=t,o.options.map=v,i=new C.classes.Marker(o.options),c(e,"infowindow")&&(r=d("infowindow",e.infowindow,"open"),(void 0===r.open||r.open)&&(r.apply=b(r.apply),r.apply.unshift({action:"open",args:[v,i]})),r.action="addinfowindow",this._planNext(r)),n||(u.add("marker",i,o),this._manageEnd(i,o))),i},this.addmarkers=function(e){l(e,"clusters")?this._resolveAllLatLng(e,"markers","_addclusteredmarkers"):this._resolveAllLatLng(e,"markers","_addmarkers")},this._addmarkers=function(t){var n,i,r,a,o,s,c,h={},p=l(t,"markers");if(this._subcall(t),"object"!=typeof p)return this._end();if(i=d("marker",t,["to","markers"]),i.to){if(c=u.refToObj(i.to),n=c&&"function"==typeof c.add){for(r=0;r<p.length;r++)(a=w(p[r]))&&c.add(a,p[r]);"function"==typeof c.redraw&&c.redraw()}this._manageEnd(n,i)}else{for(e.extend(!0,h,i.options),h.map=v,n=[],r=0;r<p.length;r++)(a=w(p[r]))&&(p[r].options?(s={},e.extend(!0,s,h,p[r].options),i.options=s):i.options=h,i.options.position=a,o=new C.classes.Marker(i.options),n.push(o),i.data=p[r].data,i.tag=p[r].tag,u.add("marker",o,i),this._manageEnd(o,i,!0));i.options=h,this._callback(n,t),this._end()}},this._addclusteredmarkers=function(e){var t,n,r,a,o=this,s=l(e,"radius"),c=l(e,"maxZoom"),u=l(e,"markers"),d=l(e,"clusters");if(!v.getBounds())return google.maps.event.addListenerOnce(v,"bounds_changed",function(){o._addclusteredmarkers(e)}),void 0;if("number"==typeof s){for(t=new i,n=0;n<u.length;n++)r=w(u[n]),t.add(r,u[n]);a=this._initClusters(e,t,s,c,d)}this._callback(a,e),this._end()},this._initClusters=function(e,t,n,i,r){var a=this;return t.setRedraw(function(o){var s,l=t.clusters(v,n,i,o);l&&(s=t.freeDiff(l),a._displayClusters(e,t,l,s,r))}),t.events(google.maps.event.addListener(v,"zoom_changed",function(){t.redraw(!0)}),google.maps.event.addListener(v,"bounds_changed",function(){t.redraw()})),t.redraw(),u.add("cluster",t,e)},this._displayClusters=function(t,n,i,r,a){var o,s,u,h,p,f,m,g,v,y,b,x,_,k=c(t,"cluster")?d("",l(t,"cluster")):{},C=c(t,"marker")?d("",l(t,"marker")):{};for(s=0;s<i.length;s++)if(!(s in r)){if(g=i[s],p=!1,g.idx.length>1){h=0;for(o in a)o>h&&o<=g.idx.length&&(h=o);if(a[h]){for(b=l(a[h],"width"),x=l(a[h],"height"),_={},e.extend(!0,_,k,{options:{pane:"overlayLayer",content:a[h].content.replace("CLUSTER_COUNT",g.idx.length),offset:{x:-b/2,y:-x/2}}}),f=this._addOverlay(_,w(g),!0),_.options.pane="floatShadow",_.options.content=e("<div></div>"),_.options.content.width(b),_.options.content.height(x),m=this._addOverlay(_,w(g),!0),k.data={latLng:w(g),markers:[]},u=0;u<g.idx.length;u++)k.data.markers.push(n.get(g.idx[u]).marker);this._attachEvents(m,k),n.store(g,f,m),p=!0}}if(!p){for(v={},e.extend(!0,v,C.options),u=0;u<g.idx.length;u++)h=n.get(g.idx[u]),C.latLng=h.latLng,C.data=h.marker.data,C.tag=h.marker.tag,h.marker.options?(y={},e.extend(!0,y,v,h.marker.options),C.options=y):C.options=v,f=this._addMarker(C,C.latLng,!0),this._attachEvents(f,C),n.store(g,f);C.options=v}}},this.addinfowindow=function(e){this._resolveLatLng(e,"_addInfoWindow")},this._addInfoWindow=function(e,t){var n,i,r=[];this._subcall(e,t),n=d("infowindow",e,["open","anchor"]),t&&(n.options.position=t),i=new C.classes.InfoWindow(n.options),(void 0===n.open||n.open)&&(n.apply=b(n.apply),r.push(v),n.anchor&&r.push(n.anchor),n.apply.unshift({action:"open",args:r})),u.add("infowindow",i,n),this._manageEnd(i,n)},this.addpolyline=function(e){this._addPoly(e,"Polyline","path")},this.addpolygon=function(e){this._addPoly(e,"Polygon","paths")},this._addPoly=function(e,t,n){var i,r,a,o=d(t.toLowerCase(),e,n);if(o[n])for(o.options[n]=[],i=0;i<o[n].length;i++)(a=w(o[n][i]))&&o.options[n].push(a);r=new google.maps[t](o.options),r.setMap(v),u.add(t.toLowerCase(),r,o),this._manageEnd(r,o)},this.addcircle=function(e){this._resolveLatLng(e,"_addCircle")},this._addCircle=function(e,t){var n,i=d("circle",e);return t||(t=w(i.options.center)),t?(this._subcall(e,t),i.options.center=t,i.options.map=v,n=new C.classes.Circle(i.options),u.add("circle",n,i),this._manageEnd(n,i),void 0):this._manageEnd(!1,i)},this.addrectangle=function(e){this._resolveLatLng(e,"_addRectangle")},this._addRectangle=function(e){var t,n=d("rectangle",e);return n.options.bounds=x(n.options.bounds,!0),n.options.bounds?(this._subcall(e,n.options.bounds.getCenter()),n.options.map=v,t=new C.classes.Rectangle(n.options),u.add("rectangle",t,n),this._manageEnd(t,n),void 0):this._manageEnd(!1,n)},this.addoverlay=function(e){this._resolveLatLng(e,"_addOverlay")},this._addOverlay=function(t,n,i){function r(){C.classes.OverlayView.call(this),this.setMap(v)}var a,o=d("overlay",t),s=e.extend({pane:"floatPane",content:"",offset:{x:0,y:0}},o.options),l=e("<div></div>"),c=[];return l.css("border","none").css("borderWidth","0px").css("position","absolute"),l.append(s.content),r.prototype=new C.classes.OverlayView,r.prototype.onAdd=function(){var t=this.getPanes();s.pane in t&&e(t[s.pane]).append(l)},r.prototype.draw=function(){var t=this.getProjection(),i=t.fromLatLngToDivPixel(n),r=this;l.css("left",i.x+s.offset.x+"px").css("top",i.y+s.offset.y+"px"),e.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(e,t){c.push(google.maps.event.addDomListener(l[0],t,function(){google.maps.event.trigger(r,t)}))}),c.push(google.maps.event.addDomListener(l[0],"contextmenu",function(){google.maps.event.trigger(r,"rightclick")}))},r.prototype.onRemove=function(){for(var e=0;e<c.length;e++)google.maps.event.removeListener(c[e]);l.remove()},r.prototype.hide=function(){l.hide()},r.prototype.show=function(){l.show()},r.prototype.toggle=function(){l&&(l.is(":visible")?this.show():this.hide())},r.prototype.toggleDOM=function(){this.getMap()?this.setMap(null):this.setMap(v)},r.prototype.getDOMElement=function(){return l[0]},a=new r,i||(u.add("overlay",a,o),this._manageEnd(a,o)),a},this.addfixpanel=function(t){var n,i,r=d("fixpanel",t),a=y=0;r.options.content&&(n=e(r.options.content),void 0!==r.options.left?a=r.options.left:void 0!==r.options.right?a=o.width()-n.width()-r.options.right:r.options.center&&(a=(o.width()-n.width())/2),void 0!==r.options.top?y=r.options.top:void 0!==r.options.bottom?y=o.height()-n.height()-r.options.bottom:r.options.middle&&(y=(o.height()-n.height())/2),i=e("<div></div>").css("position","absolute").css("top",y+"px").css("left",a+"px").css("z-index","1000").append(n),o.first().prepend(i),this._attachEvents(v,r),u.add("fixpanel",i,r),this._callback(i,r)),this._end()},this.adddirectionsrenderer=function(e,t){var n,i=d("directionrenderer",e,"panelId");return i.options.map=v,n=new google.maps.DirectionsRenderer(i.options),i.panelId&&n.setPanel(document.getElementById(i.panelId)),u.add("directionrenderer",n,i),this._manageEnd(n,i,t),n},this.setdirectionspanel=function(e){var t=u.get("directionrenderer"),n=d("directionpanel",e,"id");t&&n.id&&t.setPanel(document.getElementById(n.id)),this._manageEnd(t,n)},this.setdirections=function(e){var t=u.get("directionrenderer"),n=d("directions",e);e&&(n.options.directions=e.directions?e.directions:e.options&&e.options.directions?e.options.directions:null),n.options.directions&&(t?t.setDirections(n.options.directions):t=this.adddirectionsrenderer(n,!0)),this._manageEnd(t,n)},this.setstreetview=function(e){var t,n=d("streetview",e,"id");n.options.position&&(n.options.position=w(n.options.position)),t=new C.classes.StreetViewPanorama(document.getElementById(n.id),n.options),t&&v.setStreetView(t),this._manageEnd(t,n)},this.addkmllayer=function(e){var t,n=d("kmllayer",e,"url");n.options.map=v,"string"==typeof n.url&&(t=new C.classes.KmlLayer(n.url,n.options)),u.add("kmllayer",t,n),this._manageEnd(t,n)},this.addtrafficlayer=function(e){var t=d("trafficlayer",e),n=u.get("trafficlayer");n||(n=new C.classes.TrafficLayer,n.setMap(v),u.add("trafficlayer",n,t)),this._manageEnd(n,t)},this.addbicyclinglayer=function(e){var t=d("bicyclinglayer",e),n=u.get("bicyclinglayer");n||(n=new C.classes.BicyclingLayer,n.setMap(v),u.add("bicyclinglayer",n,t)),this._manageEnd(n,t)},this.addgroundoverlay=function(e){var t,n=d("groundoverlay",e,["bounds","url"]);n.bounds=x(n.bounds),n.bounds&&"string"==typeof n.url&&(t=new C.classes.GroundOverlay(n.url,n.bounds),t.setMap(v),u.add("groundoverlay",t,n)),this._manageEnd(t,n)},this.geolatlng=function(e){var t=l(e,"callback");"function"==typeof t&&(navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var n=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);t.apply(o,[n])},function(){var e=!1;t.apply(o,[e])}):google.gears?google.gears.factory.create("beta.geolocation").getCurrentPosition(function(e){var n=new google.maps.LatLng(e.latitude,e.longitude);t.apply(o,[n])},function(){out=!1,t.apply(o,[out])}):t.apply(o,[!1])),this._end()},this.addstyledmap=function(e,t){var n=d("styledmap",e,["id","style"]);n.style&&n.id&&!_[n.id]&&(_[n.id]=new C.classes.StyledMapType(n.style,n.options),v&&v.mapTypes.set(n.id,_[n.id])),this._manageEnd(_[n.id],n,t)},this.setstyledmap=function(e){var t=d("styledmap",e,["id","style"]);t.id&&(this.addstyledmap(t,!0),_[t.id]&&(v.setMapTypeId(t.id),this._callback(_[t.id],e))),this._manageEnd(_[t.id],t)},this.clear=function(e){var t=b(l(e,"list")||l(e,"name")),n=l(e,"last",!1),i=l(e,"first",!1),r=l(e,"tag");void 0!==r&&(r=b(r)),u.clear(t,n,i,r),this._end()},this.get=function(e){var t=l(e,"name")||"map",n=l(e,"first"),i=l(e,"all"),r=l(e,"tag");return t=t.toLowerCase(),"map"===t?v:(void 0!==r&&(r=b(r)),n?u.get(t,!1,r):i?u.all(t,r):u.get(t,!0,r))},this.getmaxzoom=function(e){this._resolveLatLng(e,"_getMaxZoom")},this._getMaxZoom=function(e,t){var n=l(e,"callback"),i=this;n&&"function"==typeof n?m().getMaxZoomAtLatLng(t,function(e){var t=e.status===google.maps.MaxZoomStatus.OK?e.zoom:!1;n.apply(o,[t,e.status]),i._end()}):this._end()},this.setdefault=function(e){r(e),this._end()},this.autofit=function(e,t){var n,i,r,a,o,s=!0,c=new google.maps.LatLngBounds,d=l(e,"maxZoom",null);for(n=u.names(),a=0;a<n.length;a++)for(i=u.all(n[a]),o=0;o<i.length;o++)r=i[o],r.getPosition?(c.extend(r.getPosition()),s=!1):r.getBounds?(c.extend(r.getBounds().getNorthEast()),c.extend(r.getBounds().getSouthWest()),s=!1):r.getPaths?r.getPaths().forEach(function(e){e.forEach(function(e){c.extend(e),s=!1})}):r.getPath?r.getPath().forEach(function(e){c.extend(e),s=!1}):r.getCenter&&(c.extend(r.getCenter()),s=!1);s||v.getBounds()&&v.getBounds().equals(c)||(null!==d&&google.maps.event.addListenerOnce(v,"bounds_changed",function(){this.getZoom()>d&&this.setZoom(d)}),v.fitBounds(c)),t||this._manageEnd(s?!1:c,e,t)}}var C={verbose:!1,queryLimit:{attempt:5,delay:250,random:250},init:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType}},$=["events","onces","options","apply","callback","data","tag"],S=["init","geolatlng","getlatlng","getroute","getelevation","getdistance","addstyledmap","setdefault","destroy"],T=["get"],E=directionsService=elevationService=maxZoomService=distanceMatrixService=null;e.fn.gmap3=function(){var t,n,i=[],a=!0,s=[];for(t=0;t<arguments.length;t++)n=arguments[t]||{},"string"==typeof n&&(n={action:n}),i.push(n);return i.length||i.push({}),e.each(this,function(){var t=e(this),n=t.data("gmap3");a=!1,n||(n=new _(t),t.data("gmap3",n)),1==i.length&&o(i[0])?s.push(n._direct(i[0])):n._plan(i)}),s.length?1===s.length?s[0]:s:(a&&2==arguments.length&&"string"==typeof arguments[0]&&"setdefault"===arguments[0].toLowerCase()&&r(arguments[1]),this)}}(jQuery);